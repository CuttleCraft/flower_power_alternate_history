title: Presidential Election
new-page: true
tags: event
priority: -1
view-if: year = 1928
on-departure: month_actions += 1; in_election = 0; next_election_year = next_election_year + 4; n_elections += 1; next_election_time = time + 48;
on-arrival: {!
Q.dove_electoral = 0;
Q.democrat_electoral = 0;
Q.republican_electoral = 0;
Q.independent_electoral = 0;

for (const state of Q.states) {
    Q[state + '_unemployed'] = Q.unemployed
}

for (const c of Q.classes) {
        const class_votes = 0;
        for (const party of Q.parties) {
            if (Q[c+'_'+party] < 0) {
                Q[c+'_'+party] = 0;
            }
            class_votes += Q[c+'_'+party];
        for (const party of Q.parties) {
            Q[c + '_' + party + '_normalized'] = Math.round(100*Q[c+'_'+party]/class_votes);
            }
        }
}
for (const state of Q.states) {
    const total_support = 0;
    for (const party of Q.parties) {
        const party_support = 0;
        for (const c of Q.classes) {
            party_support += Q[state+'_'+c]*Q[c+'_'+party+'_normalized'];
            }
        }
        Q[state + '_' + party + '_support'] = party_support;
        total_support += party_support;
    }
    for (const party of Q.parties) {
        Q[state+'_'+party+'_normalized'] = Q[state + '_' + party + '_support']/total_support;
        Q[state+'_'+party+'_votes_dec'] = Math.round(Q[state+'_'+party+'_normalized']*1000)/10;
        Q[state+'_'+party+'_votes'] = Math.round(Q[state+'_'+party+'_normalized']*100);
    }
    const highest_support = 0;
    Q['winning_party_'+state] = null;
    for (const party in Q.parties) {
        if (Q[state+'_'+party+'_votes'] > highest_support) {
            highest_support = Q[state+'_'+party+'_votes'];
            Q['winning_party_'+state] = party; // Update winning party
            }
        }
    for (const state of Q.states) {
        const winning_party = Q['winning_party_'+state]
        Q[winning_party + '_electoral'] += Q[state + '_electoral']
    }    
!}

= Presidential Elections

Eugene McCarthy (Peace and Freedom): [+ dove_electoral +]
Hubert Humphrey (Democrat): [+ democrat_electoral +]
Richard Nixon (Republican): [+ republican_electoral +]
George Wallace (American Independent): [+ independent_electoral +]
